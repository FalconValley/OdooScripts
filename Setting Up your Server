
Open Command or Window PowerShell and tryp

or use any ssh program like BvSshClient

$ ssh root@your server ip 

echo "https://www.digitalocean.com/community/tutorials/how-to-install-virtualmin-with-webmin-lamp-bind-and-postfix-on-ubuntu-16-04"
echo "---------------------------Installing Virtualmin and webmin--------------------------------"
# sudo apt-get update
# sudo apt-get dist-upgrade -y
# sudo apt-get upgrade

# sudo nano /etc/network/interfaces.d/50-cloud-init.cfg
replace to 
dns-nameservers 8.8.8.8 8.8.4.4 127.0.0.1


Ubuntu change hostname command  if you need 
Type the following command to edit /etc/hostname using nano or vi text editor:
$ sudo nano /etc/hostname
Delete the old name and setup new name.
Next Edit the /etc/hosts file:
$ sudo nano /etc/hosts
Replace any occurrence of the existing computer name with your new one.
Reboot the system to changes take effect:
$ sudo reboot

# wget https://software.virtualmin.com/gpl/scripts/install.sh

# /bin/sh install.sh

if install with error run 
# apt install ifupdown
# /bin/sh install.sh
# sudo /bin/sh ./install.sh


#####################################################



$ sudo adduser odoo
$ sudo reboot

Run All Scripts in file odoo_pro18.sh  or use installation wy like install odoolinux in my github 

to run thes script you can use this code
$ wget https://raw.githubusercontent.com/FalconValley/OdooScripts/13/odoo_pro18.sh
$ chmod +x odoo_pro18.sh
$ ./odoo_pro18.sh




$ su odoo
$ cd /odoo
$ git clone --branch 13.0 --depth 1 https://github.com/odoo/odoo .
if u need to clone the entrprise
 
$ git clone --branch 13.0 --depth 1 https://github.com/odoo/entrprise
Add Extra File to Use Extra Adoon When u cd odoo
$ mkdir extra
$ exit
$ service odoo restart
#####################################


Secure Domain  

use the best way from webmain lits encrypt using Virtualmin

select Virtualmin Tab
select System Setting Tab
select Virtualmin Configuration 
click on ssl setting
select yes for Redirect http to https by defualt and save
then from virtual min virtual servers add new virtual server  for ech domain and ech sub domain
by adding your domain name and pass and enable setup ssl website too 
then press create server 
now go to lets encrypt to request certifaicate  from Virtualmin select Server Configuration and ssl


or use the next 


go to the  https://certbot.eff.org/
and select what do u need from My HTTP website is running chose ngnix and your oreting system
u will got this commands
$ sudo apt-get update
$ sudo apt-get install software-properties-common
$ sudo add-apt-repository universe
$ sudo add-apt-repository ppa:certbot/certbot
$ sudo apt-get update
$ sudo apt-get install certbot python-certbot-nginx
$ sudo certbot --nginx


############################################

  after create your virtual server 
edit proxy using appacth from webmin panel  its good
From Server Configuration tab and select edit proy Websity then select yes and writy your ip with port like 192.168.181.1:8069
 ###############################################
if u need to use ngnix  proxy
wget https://raw.githubusercontent.com/FalconValley/OdooScripts/13/nginx.sh
bash nginx.sh


Then edit the Ngnix file to change your domain in Server Name like  FalconOdoo13.gotdns.com *.falconodoo13.gotdns.com;
$ nano /etc/nginx/sites-available/odoo.conf
To test ngnix use
$ nginx -t
Restart ngnix
$ service nginx restart
#################################

Edit odoo config file to add the append the extra file 
$  nano /etc/odoo/odoo.conf
if enrprise use
addons_path = /odoo/odoo/addons,/odoo/addons,/odoo/extra,/odoo/enterprise
if comunity use
addons_path = /odoo/odoo/addons,/odoo/addons,/odoo/extra

Then Update The Proxy_Mode = true

###############################################
Now to set database tune go to the   https://pgtune.leopard.in.ua/#/
and provide site with your server data and press genrate and copy your configuration and update your postgre config
$ nano /etc/postgresql/12/main/postgresql.conf
under this line # Add settings for extensions here you can pase your configuration and save it
then restart postgres service and odoo
$ service postgresql restart
$ service odoo restart

################################################


To see Odoo log from trminal use
$ tail -f /var/log/odoo/odoo-server.log


to fix error in webmin
$ sudo apt-get --fix-broken install

to add filter in database to filter by domain or subdomain name 
dbfilter = ^%h$ 
if you need filter to add mor than db use
dbfilter = ^%d



echo -e "\n---- Creating the ODOO PostgreSQL User  ----"
 
if odoo no runing try to add odoo user to postres

$ sudo su - postgres -c "createuser -s odoo" 2> /dev/null || true


to test odoo status
$ sudo systemctl status odoo





